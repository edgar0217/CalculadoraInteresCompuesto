<div class="container mx-auto p-4 bg-gray-800 text-white">
    <h1 class="my-4 text-center text-2xl font-bold">Calculadora de Interés Compuesto</h1>

    <div class="mb-4">
        <label for="producto" class="block text-sm font-medium">Producto:</label>
        <input type="text"
            class="mt-1 block w-full border border-gray-700 rounded-md shadow-sm focus:ring-blue-500 focus:border-blue-500 sm:text-sm bg-gray-600 text-white"
            id="producto">
    </div>

    <div class="mb-4">
        <label for="costo" class="block text-sm font-medium">Costo inicial del producto:</label>
        <input type="number"
            class="mt-1 block w-full border border-gray-700 rounded-md shadow-sm focus:ring-blue-500 focus:border-blue-500 sm:text-sm bg-gray-600 text-white"
            id="costo" min="0" step="0.01">
    </div>

    <div class="mb-4">
        <label for="credito" class="block text-sm font-medium">¿Es a crédito?</label>
        <input type="checkbox" class="mt-1 h-4 w-4 text-blue-600 border-gray-300 rounded focus:ring-blue-500"
            id="credito">
    </div>

    <div id="opcionesCredito" class="hidden">
        <div class="mb-4">
            <label for="mensualidad" class="block text-sm font-medium">Mensualidades:</label>
            <select
                class="mt-1 block w-full border border-gray-700 rounded-md shadow-sm focus:ring-blue-500 focus:border-blue-500 sm:text-sm bg-gray-600 text-white"
                id="mensualidad">
                <option value="6">6 meses</option>
                <option value="12">12 meses</option>
                <option value="16">16 meses</option>
                <option value="24">24 meses</option>
                <option value="48">48 meses</option>
                <!-- Agrega más opciones si lo necesitas -->
            </select>
        </div>

        <div class="mb-4">
            <label for="interes" class="block text-sm font-medium">Porcentaje de interés (%):</label>
            <input type="number"
                class="mt-1 block w-full border border-gray-700 rounded-md shadow-sm focus:ring-blue-500 focus:border-blue-500 sm:text-sm bg-gray-600 text-white"
                id="interes" min="0" step="0.01">
        </div>

        <button
            class="w-full py-2 px-4 bg-blue-600 text-white font-semibold rounded-md shadow-sm hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500"
            onclick="calcular()">Calcular</button>
    </div>

    <table class="table-auto w-full mt-4 hidden" id="resultados">
        <thead>
            <tr class="bg-gray-700 text-white">
                <th class="px-4 py-2">Mes</th>
                <th class="px-4 py-2">Saldo</th>
                <th class="px-4 py-2">Interés</th>
                <th class="px-4 py-2">Total</th>
            </tr>
        </thead>
        <tbody>
            <!-- Aquí se generará la tabla con los resultados -->
        </tbody>
    </table>
</div>

<script>
    function calcular() {
        // Obtener los valores de entrada
        const producto = document.getElementById('producto').value;
        const costo = parseFloat(document.getElementById('costo').value);
        const mensualidades = parseInt(document.getElementById('mensualidad').value);
        const interes = parseFloat(document.getElementById('interes').value) / 100;

        // Obtener la tabla de resultados
        const tablaResultados = document.getElementById('resultados');
        const tbody = tablaResultados.querySelector('tbody');

        // Limpiar la tabla de resultados previos
        tbody.innerHTML = '';

        // Calcular y mostrar los resultados
        let saldoInicial = costo;
        for (let i = 1; i <= mensualidades; i++) {
            const interesMes = saldoInicial * interes;
            const saldoFinal = saldoInicial + interesMes;

            // Crear una fila para el mes actual
            const fila = document.createElement('tr');
            fila.innerHTML = `
                    <td>${i}</td>
                    <td>${saldoInicial.toFixed(2)}</td>
                    <td>${interesMes.toFixed(2)}</td>
                    <td>${saldoFinal.toFixed(2)}</td>
                `;

            // Agregar la fila a la tabla
            tbody.appendChild(fila);

            // Actualizar el saldo inicial para el próximo mes
            saldoInicial = saldoFinal;
        }

        // Mostrar la tabla de resultados
        tablaResultados.style.display = 'table';
    }

    // Mostrar u ocultar las opciones de crédito según la selección
    document.getElementById('credito').addEventListener('change', function () {
        const opcionesCredito = document.getElementById('opcionesCredito');
        const tablaResultados = document.getElementById('resultados');
        if (this.checked) {
            opcionesCredito.style.display = 'block';
            tablaResultados.style.display = 'none'; // Ocultar la tabla si se desmarca la opción de crédito
        } else {
            opcionesCredito.style.display = 'none';
            tablaResultados.style.display = 'none'; // Ocultar la tabla si se desmarca la opción de crédito
        }
    });
</script>